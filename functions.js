
function check(){
    var pidigits = "14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823378678316527120190914564856692346034861045432664821339360726024914127372458700660631558817488152092096282925409171536436789259036001133053054882046652138414695194151160943305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912983367336244065664308602139494639522473719070217986094370277053921717629317675238467481846766940513200056812714526356082778577134275778960917363717872146844090122495343014654958537105079227968925892354201995611212902196086403441815981362977477130996051870721134999999837297804995105973173281609631859502445945534690830264252230825334468503526193118817101000313783875288658753320838142061717766914730359825349042875546873115956286388235378759375195778185778053217122680661300192787661119590921642019893809525720106548586327886593615338182796823030195203530185296899577362259941389124972177528347913151557485724245415069595082953311686172785588907509838175463746493931925506040092770167113900984882401285836160356370766010471018194295559619894676783744944825537977472684710404753464620804668425906949129331367702898915210475216205696602405803815" ;
    var x = document.getElementById("digits").value;
    
    var n = document.getElementById("number").value;
    var s = document.getElementById("start").value;
    var end = Number(s)+Number(n);
    var won = 0;

    var searched = pidigits.substring(s,end);
    var spacing = ""; if (n>100){spacing = "<br />"};
    var result = document.getElementById("result");


    if (x == searched){
   
        if (s == 0){
        correct.innerHTML = "";
        result.innerHTML = "<span style='color:green'>"+ x + "</span>" + spacing +" are the correct first " + n + " digits of pi";}
        else {
            correct.innerHTML = "";
            result.innerHTML = "<span style='color:green'>"+ x + "</span>"   + spacing +" are the correct " + n + " digits of pi after " + s;}
    } 

    else {
        result.innerHTML = "Your answer is wrong";
        if (s==0){
            correct.innerHTML = "correct would have been: 3.";}
        else {
            correct.innerHTML = "correct would have been: 3.14...  ...";}

        var booli =true;
        var leftout ="";
        for (let  i=0; i<n; i++) {
            if (x[i]==searched[i]) {
                correct.innerHTML = correct.innerHTML + x[i];
            } else {
                if (won==0){
                    won = i;
                }
                if (searched == x.slice(0,i) + searched[i] + x.slice(i,-1)){
                    booli = false;
                    leftout = i;
                    correct.innerHTML = correct.innerHTML + "<span style='color:orange'>"+  searched[i] + "</span>";
                    x = x.slice(0,i) + searched[i] + x.slice(i,-1);
                } else {                
                    correct.innerHTML = correct.innerHTML + "<span style='color:red'>"+  searched[i] + "</span>";
                }
            }
        }
        if (booli){
            result.innerHTML += ", you got the first " + won + " digits correct!"
        } else {
            result.innerHTML = "you left out digit number " + (leftout+1);
        }
    }
    document.getElementById("digits").value="";

}

function updatenumber(){

    var x = document.getElementById("digits").value;
    var n = document.getElementById("number").value;
    var dignum = Array.from(x.toString()).length;


    if (x == ""){
        document.getElementById("remaining").innerHTML = n + " digits searched for";
    } else if (dignum>n){
        document.getElementById("remaining").innerHTML = "too many digits entered";
    } else {
        document.getElementById("remaining").innerHTML = n-dignum + " digits remaining";
        if (dignum==n){
            document.getElementById("remaining").innerHTML = "right amount!"
        }
    }

    if (document.getElementById("starthelp").checked == 1){
        help();
    } else {
        document.getElementById("dehelp").innerHTML = "";
    }

}

function help(){
    var pidigits = "3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823378678316527120190914564856692346034861045432664821339360726024914127372458700660631558817488152092096282925409171536436789259036001133053054882046652138414695194151160943305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912983367336244065664308602139494639522473719070217986094370277053921717629317675238467481846766940513200056812714526356082778577134275778960917363717872146844090122495343014654958537105079227968925892354201995611212902196086403441815981362977477130996051870721134999999837297804995105973173281609631859502445945534690830264252230825334468503526193118817101000313783875288658753320838142061717766914730359825349042875546873115956286388235378759375195778185778053217122680661300192787661119590921642019893809525720106548586327886593615338182796823030195203530185296899577362259941389124972177528347913151557485724245415069595082953311686172785588907509838175463746493931925506040092770167113900984882401285836160356370766010471018194295559619894676783744944825537977472684710404753464620804668425906949129331367702898915210475216205696602405803815" ;
    var chars = pidigits.split('');
    var s = parseFloat(document.getElementById("start").value);

    var result = "";
    if (s>=3){
        for (let  i=-3; i<2; i++) {
            result += chars[s+i];
        }
    } else {
        if (s==2) {result = "3.14";}
        else if (s==1) {result ="3.1";}
        else if (s==0) {result="3.";}
    }
    
    document.getElementById("dehelp").innerHTML = result;
}

function restart(){
    document.getElementById("number").value="10";
    document.getElementById("start").value="0";
    document.getElementById("digits").value="";
    document.getElementById("remaining").innerHTML="10 digits remaining";
    document.getElementById("result").innerHTML="";
    document.getElementById("correct").innerHTML="";
    document.getElementById("dehelp").innerHTML="";
    document.getElementById("starthelp").checked=false;
}

function showpi(){
    var startpi = document.getElementById("startpi").value;
    var endpi = document.getElementById("endpi").value;

    var pi = "1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632788659361533818279682303019520353018529689957736225994138912497217752834791315155748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912933136770289891521047521620569660240580381501935112533824300355876402474964732639141992726042699227967823547816360093417216412199245863150302861829745557067498385054945885869269956909272107975093029553211653449872027559602364806654991198818347977535663698074265425278625518184175746728909777727938000816470600161452491921732172147723501414419735685481613611573525521334757418494684385233239073941433345477624168625189835694855620992192221842725502542568876717904946016534668049886272327917860857843838279679766814541009538837863609506800642251252051173929848960841284886269456042419652850222106611863067442786220391949450471237137869609563643719172874677646575739624138908658326459958133904780275900994657640789512694683983525957098258226205224894077267194782684826014769909026401363944374553050682034962524517493996514314298091906592509372216964615157098583874105978859597729754989301617539284681382686838689427741559918559252459539594310499725246808459872736446958486538367362226260991246080512438843904512441365497627807977156914359977001296160894416";
    var orpi = pi;
    var show = "";
    for (let i=0; i<1805; i+=5){
        pi = pi.slice(0,i)  + " " + pi.slice(i);
        i++;
        if (i==1801){
            pi = pi.slice(0,i);
        }
    }

    for (let i=0; i<2605; i+=124){
        pi = pi.slice(0,i)  + "<br/>" + pi.slice(i);
        i++;
    }
    
    
    show = orpi.slice(startpi,endpi);
    for (let i=0; i<2600; i+=5){
        show = show.slice(0,i)  + " " + show.slice(i);
        i++;
    }
    
    if (startpi == 0){
        show = "3. <br/>" + show;
    }

    document.getElementById("PI").innerHTML=show; 
}

function restartinstant(){
    document.getElementById("entereddigit").value="";
    document.getElementById("starting").value="0"
}
var counter = 0;

function instantcheck(){
    var m = 5; //to be changed to something that can be chosen
    document.getElementById("iscorrect").innerHTML = "";
    var pidigits = "14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823378678316527120190914564856692346034861045432664821339360726024914127372458700660631558817488152092096282925409171536436789259036001133053054882046652138414695194151160943305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912983367336244065664308602139494639522473719070217986094370277053921717629317675238467481846766940513200056812714526356082778577134275778960917363717872146844090122495343014654958537105079227968925892354201995611212902196086403441815981362977477130996051870721134999999837297804995105973173281609631859502445945534690830264252230825334468503526193118817101000313783875288658753320838142061717766914730359825349042875546873115956286388235378759375195778185778053217122680661300192787661119590921642019893809525720106548586327886593615338182796823030195203530185296899577362259941389124972177528347913151557485724245415069595082953311686172785588907509838175463746493931925506040092770167113900984882401285836160356370766010471018194295559619894676783744944825537977472684710404753464620804668425906949129331367702898915210475216205696602405803815" ;
    var x = document.getElementById("entereddigit").value;
    var s = document.getElementById("starting").value;
    var Sn = Number(document.getElementById("starting").value)

    if (s<5 && s>0) {
        let str = "1415"
        document.getElementById("advance").innerHTML = "3."+ str.substring(0,s);

    } else if (s>4){
        for (let i=m;i>0;i--)
        document.getElementById("advance").innerHTML = pidigits[Sn-i-4]+pidigits[Sn-i-3]+pidigits[Sn-i-2]+pidigits[Sn-i-1]+pidigits[Sn-i];
    } else {
        document.getElementById("advance").innerHTML = "3.";
    }

    if (x==pidigits[s]){
        document.getElementById("iscorrect").innerHTML = "<span style='color:green'>correct</span>";
        document.getElementById("starting").value = Sn+1;
        counter=0;
    } else {
        document.getElementById("iscorrect").innerHTML = "<span style='color:red'> try again!</span>";
    }
}

function cleanit(){
    document.getElementById("entereddigit").value="";
    document.getElementById("cheathelp").innerHTML="";
}


function showcheat(){
    counter ++;
    var pidigits = "14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593344612847564823378678316527120190914564856692346034861045432664821339360726024914127372458700660631558817488152092096282925409171536436789259036001133053054882046652138414695194151160943305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912983367336244065664308602139494639522473719070217986094370277053921717629317675238467481846766940513200056812714526356082778577134275778960917363717872146844090122495343014654958537105079227968925892354201995611212902196086403441815981362977477130996051870721134999999837297804995105973173281609631859502445945534690830264252230825334468503526193118817101000313783875288658753320838142061717766914730359825349042875546873115956286388235378759375195778185778053217122680661300192787661119590921642019893809525720106548586327886593615338182796823030195203530185296899577362259941389124972177528347913151557485724245415069595082953311686172785588907509838175463746493931925506040092770167113900984882401285836160356370766010471018194295559619894676783744944825537977472684710404753464620804668425906949129331367702898915210475216205696602405803815" ;
    var s = document.getElementById("starting").value;

    document.getElementById("cheathelp").innerHTML=pidigits[s];

    for (let i=1;i<counter;i++) {
        let d = Number(s)+i
        document.getElementById("cheathelp").innerHTML+=pidigits[d]
    }

}

